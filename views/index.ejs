<!DOCTYPE html>
<html>
  <head>
    <title>Bike marauder's map | <%=texts.HOME_PAGE %></title>
    <link rel='stylesheet' href='/stylesheets/style.css' />
    <link rel="manifest" href="/manifest.json">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
  </head>
  <body>
    <h1> Bike marauder's map</h1>
    <p><%=texts.WELCOME_MSG %> Bike marauder's map.</p>
    <div id="mapdiv"></div>
    <p class="footer">
      <span><%=texts.HOME_PAGE %></span>
      <a href="/users/"><%=texts.USERS_LIST %></a>
      <a href="/logout"><%=texts.LOGOUT %></a>
    </p>
    <script src="http://www.openlayers.org/api/OpenLayers.js"></script>
    <script type="text/javascript">
        function resizeMap () {
          document.getElementById('mapdiv').style.height = ((document.innerHeight || document.documentElement.clientHeight)*(2/3)) + 'px';
          document.getElementById('mapdiv').style.width = ((document.innerWidth || document.documentElement.clientWidth)*(0.70)) + 'px';
        };
        window.addEventListener('resize', resizeMap);
        resizeMap();

        map = new OpenLayers.Map('mapdiv');
        map.addLayer(new OpenLayers.Layer.OSM());

        var markers = new OpenLayers.Layer.Markers('Markers');
        map.addLayer(markers);

        function addMarker (p) {
          var position = new OpenLayers.LonLat(p.long,p.lat)
                .transform(
                  new OpenLayers.Projection('EPSG:4326'), // transform from WGS 1984
                  map.getProjectionObject() // to Spherical Mercator Projection
                );
          markers.addMarker(new OpenLayers.Marker(position));

          var zoom=15;
          map.setCenter (position, zoom);
        }


        addMarker({lat: 48.6597597, long:7.21657276});
        addMarker({lat: 48.6536776, long:7.23603487});



    </script>
  </body>
</html>
